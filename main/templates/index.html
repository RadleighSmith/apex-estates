{% extends 'base.html' %}
{% load static %}

{% load crispy_forms_tags %}

{% block title %}Home{% endblock %}

{% block content %}
    <!-- Hero Image -->
    <section class="hero-image-container">
        <img id="hero-image" class="img-fluid" src="{% static 'images/hero-image.jpg' %}" alt="">
        <div class="hero-content mx-4 text-center">
            <h1 class="m-3">Welcome to Apex Estates, The Pinnacle of London Real Estate.</h1>
            <h2 class="m-3">Find Your Perfect Home Today.</h2>
            <a href="/property_listings" class="btn call-to-action m-3">Property Listings</a>
        </div>
    </section>

    <div id="latest-properties" class="container-fluid">
        <!-- Latest Properties --> 
        <section class="container">
            <h2 class="text-center p-3">Latest Properties</h2>
                <div class="row justify-content-center">
                    {% for property in latest_properties %}
                        {% include 'property_listings/property_cards.html' %}
                    {% endfor %}
                </div>
        </section>
    </div>
    <div class="container">
        <!-- Property Listings CTA -->
        <section class="row align-items-center">
            <div class="col-md-6 p-5">
                <h3>Discover the Essence of Modern Living.</h3>
                <p>Your Journey Home Begins with Us.</p>
                <a href="/property_listings" class="btn call-to-action">Property Listings</a>
            </div>
            <div class="col-md-6 p-5">
                <img class="img-fluid" src="{% static 'images/modern-living.jpg' %}" alt="Apartment living room with Thames and Tower Bridge view">
            </div>
        </section>
        <!-- Horizontal Rule -->
        <div class="horizontal-rule"></div>
        <!-- Valuation CTA -->
        <section class="row align-items-center">
            <div class="col-md-6  order-md-1 order-2 p-5">
                <img class="img-fluid" src="{% static 'images/london-alley.jpg' %}" alt="Black door in London alleyway.">
            </div>
            <div class="col-md-6 order-md-2 order-1 p-5">
                <h3>Ready for a Seamless Sale?</h3>
                <p>Your Next Chapter Begins Here, Request a Free Validation.</p>
                <a href="/request_valuation" class="btn call-to-action">Free Valuation</a>
            </div>
        </section>
    </div>
    <div class="container-fluid">
        <!-- Review -->
        <div class="row position-relative text-center">
            <img src="{% static 'images/review-banner.jpg' %}" alt="London Townhouses at dusk" class="img-fluid review-image">
        
            <div class="overlay-background position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center">
                <h4 class="p-2 overlay-text">
                    "Apex Estates made finding my dream home a seamless and delightful journey; 
                    their personalized approach and attention to detail ensured every step was not just a transaction 
                    but a meaningful experience."
                </h4>
                <p class="overlay-text">- David Miller</p>
            </div>
        </div>
    </div>
    <div class="container">
        <!-- Newsletter -->
        <div class="row align-items-center my-5">
            <div class="col-md-6 text-center border-md-end">
                <h5 class="h2 mb-4 px-5">Sign up for Exclusive Updates</h5>
            </div>
            <div class="col-md-6 px-5">
                <p>Stay in the loop with our latest offerings, property insights, and exclusive promotions by signing up for our newsletter. Subscribe now and let the journey to your dream home begin!</p>
                <form method="post" class="text-center">
                    {% csrf_token %}
                    {{ form|crispy }}
                    <button type="submit" class="btn call-to-action">Sign Up</button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
<script src="{% static 'js/cards.js' %}"></script>
{% endblock %}